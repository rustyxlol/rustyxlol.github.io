<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>LeetCode Blind 18/75: Longest Common Subsequence | Rusty</title><meta name=keywords content="leetcode,blind75"><meta name=description content="Given two strings text1 and text2, return the length of their longest common subsequence. If there is no common subsequence, return 0."><meta name=author content><link rel=canonical href=https://rustyxlol.github.io/posts/blind75/2022-07-01-b75-18/><link crossorigin=anonymous href=/assets/css/stylesheet.e7015e36a4fd3c21b7b8b06e8b077e472a75ea786202896039c73682bdf8e9d5.css integrity="sha256-5wFeNqT9PCG3uLBuiwd+Ryp16nhiAolgOcc2gr346dU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://rustyxlol.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rustyxlol.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rustyxlol.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://rustyxlol.github.io/apple-touch-icon.png><link rel=mask-icon href=https://rustyxlol.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css integrity=sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js integrity=sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><meta property="og:title" content="LeetCode Blind 18/75: Longest Common Subsequence"><meta property="og:description" content="Given two strings text1 and text2, return the length of their longest common subsequence. If there is no common subsequence, return 0."><meta property="og:type" content="article"><meta property="og:url" content="https://rustyxlol.github.io/posts/blind75/2022-07-01-b75-18/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-01T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-01T00:00:00+00:00"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-07-02-b75-19/"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-30-b75-17/"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-28-b75-16/"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-27-b75-15/"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-26-b75-14/"><meta name=twitter:card content="summary"><meta name=twitter:title content="LeetCode Blind 18/75: Longest Common Subsequence"><meta name=twitter:description content="Given two strings text1 and text2, return the length of their longest common subsequence. If there is no common subsequence, return 0."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://rustyxlol.github.io/posts/"},{"@type":"ListItem","position":2,"name":"LeetCode: Blind 75","item":"https://rustyxlol.github.io/posts/blind75/"},{"@type":"ListItem","position":3,"name":"LeetCode Blind 18/75: Longest Common Subsequence","item":"https://rustyxlol.github.io/posts/blind75/2022-07-01-b75-18/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"LeetCode Blind 18/75: Longest Common Subsequence","name":"LeetCode Blind 18\/75: Longest Common Subsequence","description":"Given two strings text1 and text2, return the length of their longest common subsequence. If there is no common subsequence, return 0.","keywords":["leetcode","blind75"],"articleBody":"Problem statement Given two strings text1 and text2, return the length of their longest common subsequence. If there is no common subsequence, return 0.\nA subsequence of a string is a new string generated from the original string with some characters (can be none) deleted without changing the relative order of the remaining characters.\nFor example, “ace” is a subsequence of “abcde”. A common subsequence of two strings is a subsequence that is common to both strings.\nLink to problem\nExample 1\nInput: text1 = \"abcde\", text2 = \"ace\" Output: 3 Explanation: The longest common subsequence is \"ace\" and its length is 3. Example 2\nInput: text1 = \"abc\", text2 = \"abc\" Output: 3 Explanation: The longest common subsequence is \"abc\" and its length is 3. Solutions Approach 1: Dynamic Programming - Bottom Up This was easier to come up with than the last problem, we essentially tabulate two strings and check for the occurences. The following picture may describe it far better than anything\nWhat happens is:\nDo the two characters in the table match? then that cell will be 1 + whatever the previous row and column had. If they do not match, take the max of left cell or the cell above, because there is a possibility that there could be continuation of the subsequence. Pseudocode\ninitialize 2d array dp of size N+1 x M+1 begin ith loop from 1 to N + 1 begin jth loop from 1 to M + 1 if characters match dp[i][j] = max of current cell or 1 + previous diagonal cell else dp[i][j] = max of previous row or column return dp[N][M] Implementation in Rust\nfn longest_common_subsequence(text1: String, text2: String) -\u003e i32 { let mut dp = vec![vec![0; text2.len() + 1]; text1.len() + 1]; for i in 1..text1.len() + 1 { for j in 1..text2.len() + 1 { if text1.chars().nth(i - 1) == text2.chars().nth(j - 1) { dp[i][j] = std::cmp::max(dp[i][j], 1 + dp[i - 1][j - 1]); } else { dp[i][j] = std::cmp::max(dp[i - 1][j], dp[i][j - 1]); } } } dp[text1.len()][text2.len()] } Time Complexity: $O(nm)$\nSpace Complexity: $O(nm)$\nRuntime on LeetCode: $1179$ms, that doesn’t feel optimal.\nNeetcode mentioned a similar approach but his started at the end and finished at (0,0) Similar implementation but just reverse the loops.\n","wordCount":"379","inLanguage":"en","datePublished":"2022-07-01T00:00:00Z","dateModified":"2022-07-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://rustyxlol.github.io/posts/blind75/2022-07-01-b75-18/"},"publisher":{"@type":"Organization","name":"Rusty","logo":{"@type":"ImageObject","url":"https://rustyxlol.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://rustyxlol.github.io/ accesskey=h title="Rusty (Alt + H)">Rusty</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://rustyxlol.github.io/about/ title=About><span>About</span></a></li><li><a href=https://rustyxlol.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://rustyxlol.github.io/projects/ title=Projects><span>Projects</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://rustyxlol.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://rustyxlol.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://rustyxlol.github.io/posts/blind75/>LeetCode: Blind 75</a></div><h1 class=post-title>LeetCode Blind 18/75: Longest Common Subsequence</h1><div class=post-description>Given two strings text1 and text2, return the length of their longest common subsequence. If there is no common subsequence, return 0.</div><div class=post-meta><span title='2022-07-01 00:00:00 +0000 UTC'>July 1, 2022</span>&nbsp;|&nbsp;<a href=https://github.com/rustyxlol/rustyxlol.github.io/tree/master/content/posts/blind75/2022-07-01-b75-18.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#problem-statement aria-label="Problem statement">Problem statement</a></li><li><a href=#solutions aria-label=Solutions>Solutions</a><ul><li><a href=#approach-1-dynamic-programming---bottom-up aria-label="Approach 1: Dynamic Programming - Bottom Up">Approach 1: Dynamic Programming - Bottom Up</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=problem-statement>Problem statement<a hidden class=anchor aria-hidden=true href=#problem-statement>#</a></h2><p>Given two strings text1 and text2, return the length of their longest common subsequence. If there is no common subsequence, return 0.</p><p>A subsequence of a string is a new string generated from the original string with some characters (can be none) deleted without changing the relative order of the remaining characters.</p><p>For example, &ldquo;ace&rdquo; is a subsequence of &ldquo;abcde&rdquo;.
A common subsequence of two strings is a subsequence that is common to both strings.<br><a href=https://leetcode.com/problems/longest-common-subsequence/>Link to problem</a></p><p><strong>Example 1</strong></p><pre tabindex=0><code>Input: text1 = &#34;abcde&#34;, text2 = &#34;ace&#34; 
Output: 3  
Explanation: The longest common subsequence is &#34;ace&#34; and its length is 3.
</code></pre><p><strong>Example 2</strong></p><pre tabindex=0><code>Input: text1 = &#34;abc&#34;, text2 = &#34;abc&#34;
Output: 3
Explanation: The longest common subsequence is &#34;abc&#34; and its length is 3.
</code></pre><hr><h2 id=solutions>Solutions<a hidden class=anchor aria-hidden=true href=#solutions>#</a></h2><h3 id=approach-1-dynamic-programming---bottom-up>Approach 1: Dynamic Programming - Bottom Up<a hidden class=anchor aria-hidden=true href=#approach-1-dynamic-programming---bottom-up>#</a></h3><p>This was easier to come up with than the last problem, we essentially tabulate
two strings and check for the occurences. The following picture may describe it
far better than anything</p><p><img loading=lazy src=https://assets.leetcode.com/users/votrubac/image_1564691262.png alt="LeetCode Image"></p><p>What happens is:</p><ol><li>Do the two characters in the table match? then that cell will be 1 + whatever the previous row and column had.</li><li>If they do not match, take the max of left cell or the cell above, because there is a possibility that there could be
continuation of the subsequence.</li></ol><p><strong>Pseudocode</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>initialize 2d array dp of size N+1 x M+1 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>begin ith loop from 1 to N + 1
</span></span><span style=display:flex><span>    begin jth loop from 1 to M + 1
</span></span><span style=display:flex><span>        if characters match
</span></span><span style=display:flex><span>            dp[i][j] = max of current cell or 1 + previous diagonal cell
</span></span><span style=display:flex><span>        else 
</span></span><span style=display:flex><span>            dp[i][j] = max of previous row or column
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>return dp[N][M]
</span></span></code></pre></div><p><strong>Implementation in Rust</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>longest_common_subsequence</span>(text1: String, text2: String) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> dp <span style=color:#f92672>=</span> vec![vec![<span style=color:#ae81ff>0</span>; text2.len() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>]; text1.len() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>..</span>text1.len() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> j <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>..</span>text2.len() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> text1.chars().nth(i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>==</span> text2.chars().nth(j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>                dp[i][j] <span style=color:#f92672>=</span> std::cmp::max(dp[i][j], <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> dp[i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>][j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                dp[i][j] <span style=color:#f92672>=</span> std::cmp::max(dp[i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>][j], dp[i][j <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    dp[text1.len()][text2.len()]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Time Complexity: $O(nm)$<br>Space Complexity: $O(nm)$<br>Runtime on LeetCode: $1179$ms, that doesn&rsquo;t feel optimal.</p><blockquote><p>Neetcode mentioned a similar approach but his started at the end and finished at (0,0)
Similar implementation but just reverse the loops.</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://rustyxlol.github.io/tags/leetcode/>leetcode</a></li><li><a href=https://rustyxlol.github.io/tags/blind75/>blind75</a></li></ul><nav class=paginav><a class=prev href=https://rustyxlol.github.io/posts/blind75/2022-06-30-b75-17/><span class=title>« Prev</span><br><span>LeetCode Blind 17/75: Longest Increasing Subsequence</span></a>
<a class=next href=https://rustyxlol.github.io/posts/blind75/2022-07-02-b75-19/><span class=title>Next »</span><br><span>LeetCode Blind 19/75: Word Break</span></a></nav></footer></article></main><footer class=footer><span>© 2022 Rusty</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>