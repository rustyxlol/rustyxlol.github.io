<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>LeetCode Blind 2/75: Best Time to Buy and Sell Stock | Rusty</title><meta name=keywords content="leetcode,blind75"><meta name=description content="You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock."><meta name=author content><link rel=canonical href=https://rustyxlol.github.io/posts/blind75/2022-06-16-b75-2/><link crossorigin=anonymous href=/assets/css/stylesheet.e4865845f2db1f66e3d5cc1a7a4f26651b8c3dde5d394af20cf81b10e89087b6.css integrity="sha256-5IZYRfLbH2bj1cwaek8mZRuMPd5dOUryDPgbEOiQh7Y=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://rustyxlol.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rustyxlol.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rustyxlol.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://rustyxlol.github.io/apple-touch-icon.png><link rel=mask-icon href=https://rustyxlol.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css integrity=sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js integrity=sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><meta property="og:title" content="LeetCode Blind 2/75: Best Time to Buy and Sell Stock"><meta property="og:description" content="You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock."><meta property="og:type" content="article"><meta property="og:url" content="https://rustyxlol.github.io/posts/blind75/2022-06-16-b75-2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-16T00:00:00+00:00"><meta property="article:modified_time" content="2022-06-16T00:00:00+00:00"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-15-b75-1/"><meta name=twitter:card content="summary"><meta name=twitter:title content="LeetCode Blind 2/75: Best Time to Buy and Sell Stock"><meta name=twitter:description content="You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://rustyxlol.github.io/posts/"},{"@type":"ListItem","position":2,"name":"LeetCode Blind 2/75: Best Time to Buy and Sell Stock","item":"https://rustyxlol.github.io/posts/blind75/2022-06-16-b75-2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"LeetCode Blind 2/75: Best Time to Buy and Sell Stock","name":"LeetCode Blind 2\/75: Best Time to Buy and Sell Stock","description":"You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock.","keywords":["leetcode","blind75"],"articleBody":"Problem statement You are given an array prices where prices[i] is the price of a given stock on the ith day.\nYou want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock.\nReturn the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0.\nLink to problem\nExample 1\nInput: prices = [7,1,5,3,6,4] Output: 5 Explanation: Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5. Note that buying on day 2 and selling on day 1 is not allowed because you must buy before you sell. Example 2\nInput: prices = [7,6,4,3,1] Output: 0 Explanation: In this case, no transactions are done and the max profit = 0. Solutions Approach 1: Simpleton The twist in this problem is that it is in series, so we cannot just take min and max and call it a day.\nThis approach is rather simple, hence the name, and also the first approach that I thought of.\nBasically, we iterate over the array while keeping track of our profits and minimum.\nThe pseudocode for this would be:\nminimum = prices[0] profit = 0 loop over prices skipping first element if currentPrice \u003c minimum minimum = currentPrice if currentPrice - minimum \u003e profit profit = currentPrice - minimum return profit Implementation in Rust\nfn max_profit(prices: Vec\u003ci32\u003e) -\u003e i32 { let mut profit: i32 = 0; let mut minimum: i32 = prices[0]; for current_price in prices.iter().skip(1) { if current_price \u003c \u0026minimum { minimum = *current_price } if current_price - minimum \u003e profit { profit = current_price - minimum; } } profit } Time Complexity: $O(n)$\nRuntime on LeetCode: $12$ms\nApproach 2: Two Pointers It uses two pointers, one for buying and another for selling.\nSimilar to the above approach, we iterate over the entire array but use pointers to keep track of buying/selling.\nI found this from neetcode but itâ€™s pretty much the same as my approach, surprisingly it is also slightly slower than the simpleton approach. Guess simple truly is better than complex, right Guido?\nPseudocode for this would be:\nleft_ptr = 0 (buy ptr) right_ptr = 1 (sell ptr) max_profit = 0 loop over prices until right_ptr is at the end if price[left_ptr] \u003c price[right_ptr] profit = price[right_ptr] - price[left_ptr] if profit \u003e max_profit max_profit = profit else left_ptr = right_ptr right_ptr += 1 return max_profit Implementation in Rust\nfn max_profit(prices: Vec\u003ci32\u003e) -\u003e i32 { let mut max_profit: i32 = 0; let mut left_ptr = 0; let mut right_ptr = 1; while right_ptr \u003c= prices.len() - 1 { if prices[left_ptr] \u003c prices[right_ptr] { let profit = prices[right_ptr] - prices[left_ptr]; if profit \u003e max_profit { max_profit = profit; } } else { left_ptr = right_ptr; } right_ptr += 1 } max_profit } Time Complexity: $O(n)$\nRuntime on leetcode: $25$ms\n","wordCount":"487","inLanguage":"en","datePublished":"2022-06-16T00:00:00Z","dateModified":"2022-06-16T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://rustyxlol.github.io/posts/blind75/2022-06-16-b75-2/"},"publisher":{"@type":"Organization","name":"Rusty","logo":{"@type":"ImageObject","url":"https://rustyxlol.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://rustyxlol.github.io/ accesskey=h title="Rusty (Alt + H)">Rusty</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://rustyxlol.github.io/about/ title=About><span>About</span></a></li><li><a href=https://rustyxlol.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://rustyxlol.github.io/projects/ title=Projects><span>Projects</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>LeetCode Blind 2/75: Best Time to Buy and Sell Stock</h1><div class=post-description>You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock.</div><div class=post-meta><span title='2022-06-16 00:00:00 +0000 UTC'>June 16, 2022</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#problem-statement aria-label="Problem statement">Problem statement</a></li><li><a href=#solutions aria-label=Solutions>Solutions</a><ul><li><a href=#approach-1-simpleton aria-label="Approach 1: Simpleton">Approach 1: Simpleton</a></li><li><a href=#approach-2-two-pointers aria-label="Approach 2: Two Pointers">Approach 2: Two Pointers</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=problem-statement>Problem statement<a hidden class=anchor aria-hidden=true href=#problem-statement>#</a></h2><p>You are given an array prices where prices[i] is the price of a given stock on the ith day.</p><p>You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock.</p><p>Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0.<br><a href=https://leetcode.com/problems/best-time-to-buy-and-sell-stock/><em>Link to problem</em></a></p><p><strong>Example 1</strong></p><pre tabindex=0><code>Input: prices = [7,1,5,3,6,4]
Output: 5
Explanation: Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5.
Note that buying on day 2 and selling on day 1 is not allowed because you must buy before you sell.
</code></pre><p><strong>Example 2</strong></p><pre tabindex=0><code>Input: prices = [7,6,4,3,1]
Output: 0
Explanation: In this case, no transactions are done and the max profit = 0.
</code></pre><hr><h2 id=solutions>Solutions<a hidden class=anchor aria-hidden=true href=#solutions>#</a></h2><h3 id=approach-1-simpleton>Approach 1: Simpleton<a hidden class=anchor aria-hidden=true href=#approach-1-simpleton>#</a></h3><p>The twist in this problem is that it is in series, so we cannot just take min and max and call it a day.</p><p>This approach is rather simple, hence the name, and also the first approach that I thought of.</p><p>Basically, we iterate over the array while keeping track of our profits and minimum.</p><p>The pseudocode for this would be:</p><pre tabindex=0><code class=language-ansi data-lang=ansi>minimum = prices[0]
profit = 0

loop over prices skipping first element
    if currentPrice &lt; minimum
        minimum = currentPrice
    
    if currentPrice - minimum &gt; profit
        profit = currentPrice - minimum

return profit
</code></pre><p><strong>Implementation in Rust</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>max_profit</span>(prices: Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> profit: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> minimum: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> prices[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> current_price <span style=color:#66d9ef>in</span> prices.iter().skip(<span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> current_price <span style=color:#f92672>&lt;</span> <span style=color:#f92672>&amp;</span>minimum {
</span></span><span style=display:flex><span>            minimum <span style=color:#f92672>=</span> <span style=color:#f92672>*</span>current_price 
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> current_price <span style=color:#f92672>-</span> minimum <span style=color:#f92672>&gt;</span> profit {
</span></span><span style=display:flex><span>            profit <span style=color:#f92672>=</span> current_price <span style=color:#f92672>-</span> minimum;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    profit
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Time Complexity: $O(n)$</p><p>Runtime on LeetCode: $12$ms</p><hr><h3 id=approach-2-two-pointers>Approach 2: Two Pointers<a hidden class=anchor aria-hidden=true href=#approach-2-two-pointers>#</a></h3><p>It uses two pointers, one for buying and another for selling.<br>Similar to the above approach, we iterate over the entire array but use pointers to keep track of buying/selling.</p><p>I found this from neetcode but it&rsquo;s pretty much the same as my approach, surprisingly it is also slightly slower than the simpleton approach. Guess simple truly is better than complex, right Guido?</p><p>Pseudocode for this would be:</p><pre tabindex=0><code class=language-ansi data-lang=ansi>left_ptr = 0  (buy ptr)
right_ptr = 1 (sell ptr)
max_profit = 0

loop over prices until right_ptr is at the end
    if price[left_ptr] &lt; price[right_ptr]
        profit = price[right_ptr] - price[left_ptr]
        if profit &gt; max_profit
            max_profit = profit
    else
        left_ptr = right_ptr
    right_ptr += 1

return max_profit
</code></pre><p><strong>Implementation in Rust</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>max_profit</span>(prices: Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> max_profit: <span style=color:#66d9ef>i32</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> left_ptr <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> right_ptr <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> right_ptr <span style=color:#f92672>&lt;=</span> prices.len() <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> prices[left_ptr] <span style=color:#f92672>&lt;</span> prices[right_ptr] {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> profit <span style=color:#f92672>=</span> prices[right_ptr] <span style=color:#f92672>-</span> prices[left_ptr];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> profit <span style=color:#f92672>&gt;</span> max_profit {
</span></span><span style=display:flex><span>                max_profit <span style=color:#f92672>=</span> profit;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            left_ptr <span style=color:#f92672>=</span> right_ptr;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        right_ptr <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    max_profit
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Time Complexity: $O(n)$</p><p>Runtime on leetcode: $25$ms</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>Â© 2022 Rusty</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>