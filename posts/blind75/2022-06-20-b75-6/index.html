<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>LeetCode Blind 6/75: Maximum Product Subarray | Rusty</title><meta name=keywords content="leetcode,blind75"><meta name=description content="Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest product and return its product."><meta name=author content><link rel=canonical href=https://rustyxlol.github.io/posts/blind75/2022-06-20-b75-6/><link crossorigin=anonymous href=/assets/css/stylesheet.e7015e36a4fd3c21b7b8b06e8b077e472a75ea786202896039c73682bdf8e9d5.css integrity="sha256-5wFeNqT9PCG3uLBuiwd+Ryp16nhiAolgOcc2gr346dU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://rustyxlol.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rustyxlol.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rustyxlol.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://rustyxlol.github.io/apple-touch-icon.png><link rel=mask-icon href=https://rustyxlol.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css integrity=sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js integrity=sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><meta property="og:title" content="LeetCode Blind 6/75: Maximum Product Subarray"><meta property="og:description" content="Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest product and return its product."><meta property="og:type" content="article"><meta property="og:url" content="https://rustyxlol.github.io/posts/blind75/2022-06-20-b75-6/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-20T00:00:00+00:00"><meta property="article:modified_time" content="2022-06-20T00:00:00+00:00"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-20-b75-8/"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-20-b75-7/"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-18-b75-5/"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-17-b75-4/"><meta property="og:see_also" content="https://rustyxlol.github.io/posts/blind75/2022-06-17-b75-3/"><meta name=twitter:card content="summary"><meta name=twitter:title content="LeetCode Blind 6/75: Maximum Product Subarray"><meta name=twitter:description content="Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest product and return its product."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://rustyxlol.github.io/posts/"},{"@type":"ListItem","position":2,"name":"LeetCode: Blind 75","item":"https://rustyxlol.github.io/posts/blind75/"},{"@type":"ListItem","position":3,"name":"LeetCode Blind 6/75: Maximum Product Subarray","item":"https://rustyxlol.github.io/posts/blind75/2022-06-20-b75-6/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"LeetCode Blind 6/75: Maximum Product Subarray","name":"LeetCode Blind 6\/75: Maximum Product Subarray","description":"Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest product and return its product.","keywords":["leetcode","blind75"],"articleBody":"Problem statement Given an integer array nums, find a contiguous non-empty subarray within the array that has the largest product, and return the product.\nThe test cases are generated so that the answer will fit in a 32-bit integer.\nA subarray is a contiguous subsequence of the array.\nLink to problem\nExample 1\nInput: nums = [2,3,-2,4] Output: 6 Explanation: [2,3] has the largest product 6. Example 2\nInput: nums = [-2,0,-1] Output: 0 Explanation: The result cannot be 2, because [-2,-1] is not a subarray.Input: nums = [1] Solutions Approach 1: Quadratic Exactly what we did in the previous problem, except we use sum instead of product. This is also optimized to use just two loops instead of the usual 3.\nImplementation in Rust\nfn max_psubarray(numbers: Vec\u003ci32\u003e) -\u003e i32 { let mut max_product = numbers[0]; for i in 0..numbers.len() { let mut product = 1; for j in i..numbers.len() { product *= numbers[j]; if product \u003e max_product { max_product = product; } } } max_product } Time Complexity: $O(n^2)$\nRuntime on LeetCode: $280$ms\nApproach 2: Dynamic Programming This approach was quite a challenge to come up with and I wouldn’t have been able to come up with this if I hadn’t watched NeetCode,s video.\nYou not only track the maximum but also the minimum.\nWhile you’re iterating over the elements, you determine the maximum and the minimum and see what element multiplied by minimum or maximum gives the maximum value.\nPseudocode\nset cur_max, cur_min, global_max to numbers[0] begin loop is current element \u003e 0 ? cur_max = max of [numbers[i] * cur_max, numbers[i]] cur_min = min of [numbers[i] * cur_min, numbers[i]] or is current element \u003c 0 ? cur_max = max of [numbers[i] * cur_min, numbers[i]] cur_min = min of [numbers[i] * old_cur_max, numbers[i]] or is current element 0 ? cur_max = cur_min = 0 global_max = max of [global_max, cur_max] Brief explanation of the pseudocode:\ncurrent element \u003e 0\nWe check if the current element is greater than 0, which means that upon multiplying either the max or min, we will get the direct maximum or minimum. There is not much to think about here, multiply current number by max and you get a new max, multiply current number by min and you get a new min.\ncurrent element \u003c 0\nEssentially, what we are trying to do here is: What do you get when you multiply two negative numbers? You get a big positive number!\nWhat do you get when you multiply a negative number and a positive number? You get a big negative number!\nMore explanation if the above was not sufficient\nis the current number multiplied by the minimum the highest? if so then that will be our new maximum, else our current number will be the maximum.\nIs the current number multiplied by the maximum the lowest (why the lowest? because negative multiplied by positive will yield negative)? if so then that will be our new minimum, else our current number will be the minimum.\nImplementation in Rust\nfn max_psubarray(numbers:Vec\u003ci32\u003e) -\u003e i32 { let mut cur_max = numbers[0]; let mut cur_min = numbers[0]; let mut global_max = numbers[0]; for i in 1..numbers.len() { if numbers[i] \u003e 0 { cur_max = std::cmp::max(numbers[i] * cur_max, numbers[i]); cur_min = std::cmp::min(numbers[i] * cur_min, numbers[i]); } else if numbers[i] \u003c 0 { let tmp_cur_max = cur_max; cur_max = std::cmp::max(numbers[i] * cur_min, numbers[i]); cur_min = std::cmp::min(numbers[i] * tmp_cur_max, numbers[i]); } else { cur_max = 0; cur_min = 0; } global_max = std::cmp::max(global_max, cur_max); } global_max } Time Complexity: $O(n)$\nRuntime on LeetCode: $0$ms\n","wordCount":"593","inLanguage":"en","datePublished":"2022-06-20T00:00:00Z","dateModified":"2022-06-20T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://rustyxlol.github.io/posts/blind75/2022-06-20-b75-6/"},"publisher":{"@type":"Organization","name":"Rusty","logo":{"@type":"ImageObject","url":"https://rustyxlol.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://rustyxlol.github.io/ accesskey=h title="Rusty (Alt + H)">Rusty</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://rustyxlol.github.io/about/ title=About><span>About</span></a></li><li><a href=https://rustyxlol.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://rustyxlol.github.io/projects/ title=Projects><span>Projects</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://rustyxlol.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://rustyxlol.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://rustyxlol.github.io/posts/blind75/>LeetCode: Blind 75</a></div><h1 class=post-title>LeetCode Blind 6/75: Maximum Product Subarray</h1><div class=post-description>Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest product and return its product.</div><div class=post-meta><span title='2022-06-20 00:00:00 +0000 UTC'>June 20, 2022</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#problem-statement aria-label="Problem statement">Problem statement</a></li><li><a href=#solutions aria-label=Solutions>Solutions</a><ul><li><a href=#approach-1-quadratic aria-label="Approach 1: Quadratic">Approach 1: Quadratic</a></li><li><a href=#approach-2-dynamic-programming aria-label="Approach 2: Dynamic Programming">Approach 2: Dynamic Programming</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=problem-statement>Problem statement<a hidden class=anchor aria-hidden=true href=#problem-statement>#</a></h2><p>Given an integer array nums, find a contiguous non-empty subarray within the array that has the largest product, and return the product.</p><p>The test cases are generated so that the answer will fit in a 32-bit integer.</p><p>A subarray is a contiguous subsequence of the array.<br><a href=https://leetcode.com/problems/maximum-product-subarray/><em>Link to problem</em></a></p><p><strong>Example 1</strong></p><pre tabindex=0><code>Input: nums = [2,3,-2,4]
Output: 6
Explanation: [2,3] has the largest product 6.
</code></pre><p><strong>Example 2</strong></p><pre tabindex=0><code>Input: nums = [-2,0,-1]
Output: 0
Explanation: The result cannot be 2, because [-2,-1] is not a subarray.Input: nums = [1]
</code></pre><hr><h2 id=solutions>Solutions<a hidden class=anchor aria-hidden=true href=#solutions>#</a></h2><h3 id=approach-1-quadratic>Approach 1: Quadratic<a hidden class=anchor aria-hidden=true href=#approach-1-quadratic>#</a></h3><p>Exactly what we did in the previous problem, except we use sum instead of product.
This is also optimized to use just two loops instead of the usual 3.</p><p><strong>Implementation in Rust</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>max_psubarray</span>(numbers: Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> max_product <span style=color:#f92672>=</span> numbers[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>..</span>numbers.len() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> product <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> j <span style=color:#66d9ef>in</span> i<span style=color:#f92672>..</span>numbers.len() {
</span></span><span style=display:flex><span>            product <span style=color:#f92672>*=</span> numbers[j];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> product <span style=color:#f92672>&gt;</span> max_product {
</span></span><span style=display:flex><span>                max_product <span style=color:#f92672>=</span> product;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    max_product
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Time Complexity: $O(n^2)$<br>Runtime on LeetCode: $280$ms</p><hr><h3 id=approach-2-dynamic-programming>Approach 2: Dynamic Programming<a hidden class=anchor aria-hidden=true href=#approach-2-dynamic-programming>#</a></h3><p>This approach was quite a challenge to come up with and I wouldn&rsquo;t have been able to come up
with this if I hadn&rsquo;t watched NeetCode,s video.</p><p>You not only track the maximum but also the minimum.<br>While you&rsquo;re iterating over the elements, you determine the maximum and the minimum and see what
element multiplied by minimum or maximum gives the maximum value.</p><p><strong>Pseudocode</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>set cur_max, cur_min, global_max to numbers[0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>begin loop
</span></span><span style=display:flex><span>    is current element &gt; 0 ?
</span></span><span style=display:flex><span>        cur_max = max of [numbers[i] * cur_max, numbers[i]]
</span></span><span style=display:flex><span>        cur_min = min of [numbers[i] * cur_min, numbers[i]]
</span></span><span style=display:flex><span>    or is current element &lt; 0 ?
</span></span><span style=display:flex><span>        cur_max = max of [numbers[i] * cur_min, numbers[i]]
</span></span><span style=display:flex><span>        cur_min = min of [numbers[i] * old_cur_max, numbers[i]]
</span></span><span style=display:flex><span>    or is current element 0 ?
</span></span><span style=display:flex><span>        cur_max = cur_min = 0
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    global_max = max of [global_max, cur_max]
</span></span></code></pre></div><p>Brief explanation of the pseudocode:</p><p><strong>current element > 0</strong><br>We check if the current element is greater than 0, which means that upon multiplying
either the max or min, we will get the direct maximum or minimum.<br>There is not much to think about here, multiply current number by max and you get a new max,
multiply current number by min and you get a new min.</p><p><strong>current element &lt; 0</strong><br>Essentially, what we are trying to do here is:
<strong>What do you get when you multiply two negative numbers?</strong> You get a big positive number!<br><strong>What do you get when you multiply a negative number and a positive number?</strong> You get a big negative number!</p><p><strong>More explanation if the above was not sufficient</strong><br>is the current number multiplied by the minimum the highest? if so then that will be our new maximum,
else our current number will be the maximum.<br>Is the current number multiplied by the maximum the lowest <em>(why the lowest?
because negative multiplied by positive will yield negative)</em>? if so then that will be our new minimum,
else our current number will be the minimum.</p><p><strong>Implementation in Rust</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rs data-lang=rs><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>max_psubarray</span>(numbers:Vec<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>i32</span><span style=color:#f92672>&gt;</span>) -&gt; <span style=color:#66d9ef>i32</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> cur_max <span style=color:#f92672>=</span> numbers[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> cur_min <span style=color:#f92672>=</span> numbers[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> global_max <span style=color:#f92672>=</span> numbers[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#66d9ef>in</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>..</span>numbers.len() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> numbers[i] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            cur_max <span style=color:#f92672>=</span> std::cmp::max(numbers[i] <span style=color:#f92672>*</span> cur_max, numbers[i]);
</span></span><span style=display:flex><span>            cur_min <span style=color:#f92672>=</span> std::cmp::min(numbers[i] <span style=color:#f92672>*</span> cur_min, numbers[i]);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> numbers[i] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> tmp_cur_max <span style=color:#f92672>=</span> cur_max;
</span></span><span style=display:flex><span>            cur_max <span style=color:#f92672>=</span> std::cmp::max(numbers[i] <span style=color:#f92672>*</span> cur_min, numbers[i]);
</span></span><span style=display:flex><span>            cur_min <span style=color:#f92672>=</span> std::cmp::min(numbers[i] <span style=color:#f92672>*</span> tmp_cur_max, numbers[i]);
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            cur_max <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            cur_min <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        global_max <span style=color:#f92672>=</span> std::cmp::max(global_max, cur_max);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    global_max
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Time Complexity: $O(n)$<br>Runtime on LeetCode: $0$ms</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://rustyxlol.github.io/tags/leetcode/>leetcode</a></li><li><a href=https://rustyxlol.github.io/tags/blind75/>blind75</a></li></ul><nav class=paginav><a class=prev href=https://rustyxlol.github.io/posts/personal/2022-06-19-learning-vim/><span class=title>« Prev</span><br><span>Using Vim for a week!</span></a>
<a class=next href=https://rustyxlol.github.io/posts/blind75/2022-06-20-b75-7/><span class=title>Next »</span><br><span>LeetCode Blind 7/75: Find Minimum in Rotated Sorted Array</span></a></nav></footer></article></main><footer class=footer><span>© 2022 Rusty</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>